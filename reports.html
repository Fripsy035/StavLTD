<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>СЭД-СТАВ | Отчеты</title>
    <link rel="stylesheet" href="style/normalize.css">
    <link rel="stylesheet" href="style/styles.css">
</head>

<body>
    <header>
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <img src="img/logo.svg" alt="Логотип СЭД-СТАВ" class="logo-icon">
                </div>

                <div class="user-info">
                    <div class="user-avatar">ИИ</div>
                    <div>
                        <div class="user-name">Иванов Иван</div>
                        <div class="user-role">Администратор</div>
                    </div>
                    <button class="logout-btn">Выйти</button>
                </div>
                <button class="mobile-menu-toggle">☰</button>
            </div>
        </div>
        <nav id="main-nav">
            <div class="nav-container">
                <ul class="nav-menu">
                    <li><a href="index.html">Главная</a></li>
                    <li><a href="documents.html">Документы</a></li>
                    <li><a href="approvals.html">Согласования</a></li>
                    <li><a href="reports.html" class="active">Отчеты</a></li>
                    <li><a href="settings.html">Настройки</a></li>
                    <li><a href="profile.html">Профиль</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="container">
        <div class="main-content">
            <div class="content">
                <div class="section-header">
                    <h2 class="section-title">Отчеты</h2>
                </div>

                <div class="report-filters">
                    <div class="filter-group">
                        <label for="reportPeriodPreset">Период</label>
                        <select id="reportPeriodPreset" class="form-control">
                            <option value="last30">Последние 30 дней</option>
                            <option value="last7">Последние 7 дней</option>
                            <option value="custom">Произвольный диапазон</option>
                        </select>
                    </div>
                    <div class="filter-group report-filter-dates" id="reportCustomDates">
                        <label>Диапазон дат</label>
                        <div class="report-filter-dates-inner">
                            <input type="date" class="form-control" id="reportStartDate">
                            <span>—</span>
                            <input type="date" class="form-control" id="reportEndDate">
                        </div>
                    </div>
                    <button type="button" class="btn btn-secondary" id="applyReportPeriod">Применить</button>
                </div>

                <!-- Быстрая статистика -->
                <div class="quick-stats">
                    <div class="stat-card">
                        <div class="value" id="reportsStatTotalDocs">0</div>
                        <div class="label">Всего документов</div>
                    </div>
                    <div class="stat-card">
                        <div class="value" id="reportsStatReview">0</div>
                        <div class="label">На согласовании</div>
                    </div>
                    <div class="stat-card">
                        <div class="value" id="reportsStatApproved">0</div>
                        <div class="label">Согласовано</div>
                    </div>
                    <div class="stat-card">
                        <div class="value" id="reportsStatOverdue">0</div>
                        <div class="label">Просрочено</div>
                    </div>
                </div>

                <div class="tabs">
                    <div class="tab active" data-tab="standard-reports">Стандартные отчеты</div>
                    <div class="tab" data-tab="scheduled-reports">Запланированные</div>
                    <div class="tab" data-tab="archive-reports">Архив отчетов</div>
                </div>

                <div class="tab-content active" id="standard-reports">
                    <div class="report-grid">
                        <!-- Отчет по документообороту -->
                        <div class="report-card">
                            <div class="report-header">
                                <div>
                                    <div class="report-title">Отчет по документообороту</div>
                                    <div class="report-meta">Общий отчет по движению документов</div>
                                </div>
                                <div class="report-type">Общий</div>
                            </div>
                            <div class="report-stats">
                                <div class="stat">
                                    <div class="stat-value" id="reportDocsTotal">0</div>
                                    <div class="stat-label">Документов</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value" id="reportDocsApproved">0</div>
                                    <div class="stat-label">Согласовано</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value" id="reportDocsReview">0</div>
                                    <div class="stat-label">В работе</div>
                                </div>
                            </div>
                            <div class="report-period">
                                <strong>Период:</strong> <span id="reportDocsPeriod">—</span>
                            </div>
                            <div class="report-description">
                                Полный отчет по движению документов в системе: создание, согласование, статусы и сроки.
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-generate" data-report-type="documents">Сформировать
                                    отчет</button>
                            </div>
                        </div>

                        <!-- Отчет по согласованиям -->
                        <div class="report-card">
                            <div class="report-header">
                                <div>
                                    <div class="report-title">Отчет по согласованиям</div>
                                    <div class="report-meta">Статистика процессов согласования</div>
                                </div>
                                <div class="report-type">Аналитика</div>
                            </div>
                            <div class="report-stats">
                                <div class="stat">
                                    <div class="stat-value" id="reportApprovalsActive">0</div>
                                    <div class="stat-label">Активных</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value" id="reportApprovalsAvg">0</div>
                                    <div class="stat-label">Дней среднее</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value" id="reportApprovalsOverdue">0%</div>
                                    <div class="stat-label">Просрочено</div>
                                </div>
                            </div>
                            <div class="report-period">
                                <strong>Период:</strong> <span id="reportApprovalsPeriod">—</span>
                            </div>
                            <div class="report-description">
                                Детальная аналитика процессов согласования: сроки, задержки, эффективность сотрудников.
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-generate" data-report-type="approvals">Сформировать
                                    отчет</button>
                            </div>
                        </div>

                        <!-- Отчет по проектам -->
                        <div class="report-card">
                            <div class="report-header">
                                <div>
                                    <div class="report-title">Отчет по проектам</div>
                                    <div class="report-meta">Документация по проектам</div>
                                </div>
                                <div class="report-type">Проектный</div>
                            </div>
                            <div class="report-stats">
                                <div class="stat">
                                    <div class="stat-value" id="reportProjectsCount">0</div>
                                    <div class="stat-label">Проекта</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value" id="reportProjectsDocs">0</div>
                                    <div class="stat-label">Документов</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value" id="reportProjectsProgress">0%</div>
                                    <div class="stat-label">Готовность</div>
                                </div>
                            </div>
                            <div class="report-period">
                                <strong>Период:</strong> <span id="reportProjectsPeriod">—</span>
                            </div>
                            <div class="report-description">
                                Отчет по документационному обеспечению проектов: статусы, распределение по типам,
                                прогресс.
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-generate" data-report-type="projects">Сформировать отчет</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="scheduled-reports">
                    <div class="report-grid">
                        <div class="report-card">
                            <div class="report-header">
                                <div>
                                    <div class="report-title">Еженедельный отчет по документообороту</div>
                                    <div class="report-meta">Автоматически формируется каждый понедельник</div>
                                </div>
                                <div class="report-type">По расписанию</div>
                            </div>
                            <div class="report-period">
                                <strong>Расписание:</strong> Каждый понедельник, 09:00
                            </div>
                            <div class="report-period">
                                <strong>Получатели:</strong> Руководство, Отдел документооборота
                            </div>
                            <div class="report-description">
                                Автоматический еженедельный отчет для отслеживания ключевых показателей
                                документооборота.
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-download" data-scheduled="weekly-docs">Скачать</button>
                            </div>
                        </div>

                        <div class="report-card">
                            <div class="report-header">
                                <div>
                                    <div class="report-title">Месячный отчет по согласованиям</div>
                                    <div class="report-meta">Формируется 1 числа каждого месяца</div>
                                </div>
                                <div class="report-type">По расписанию</div>
                            </div>
                            <div class="report-period">
                                <strong>Расписание:</strong> 1 число каждого месяца, 10:00
                            </div>
                            <div class="report-period">
                                <strong>Получатели:</strong> Коммерческий директор, Начальники отделов
                            </div>
                            <div class="report-description">
                                Ежемесячная статистика по процессам согласования для анализа эффективности и
                                планирования.
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-download" data-scheduled="monthly-approvals">Скачать</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="archive-reports">
                    <div class="report-grid" id="reportsArchiveList"></div>
                    <div class="empty-state" id="reportsArchiveEmpty">Еще не сформировано ни одного отчета.</div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Система электронного документооборота "СЭД-СТАВ" © 2025</p>
            <p>Компания "СТАВ ЛТД"</p>
        </div>
    </footer>

    <script src="script/database.js"></script>
    <script src="script/script.js"></script>
    <script src="script/auth.js"></script>
    <script src="script/user-info.js"></script>
    <script src="script/access-control.js"></script>
    <script src="script/documents.js"></script>
    <script src="script/approvals.js"></script>
    <script src="script/modals.js"></script>
    <script src="script/reports-page.js"></script>
</body>

</html>